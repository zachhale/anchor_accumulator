<html>
<head>
  <title>Anchor Test</title>
  <script type="text/javascript" src="prototype.js"></script>
  <script type="text/javascript" src="../anchor_accumulator.js"></script>
  <script type="text/javascript" src="../ajax_anchor_accumulator.js"></script>
  <script type="text/javascript">
    Event.observe(window, 'load', function() {
      var ajax_url = "/";
      var ajax_options = {
        method: "post",
        parameters: "secret=mysterious", 
        onLoaded: function() {
          alert("Here we go!");
        },
        onSuccess: function(transport) {
          $("update_me").update(transport.responseText);
        },
        onFailure: function(transport) { 
          alert("An error occurred: " + transport.responseText);
        }
      }
      var allowed_anchor_keys = ["sort","filter"];
      
      new AjaxAnchorAccumulator(ajax_url, ajax_options, allowed_anchor_keys);   
    });
  </script>
</head>
<body>
  <div id="update_me"></div>
  
  <p>
    sort <a href="#sort=desc">descending</a> or <a href="#sort=asc">ascending</a><br/>
    filter only <a href="#filter=animals">animals</a> or <a href="#filter=people">people</a> (<a href="#filter=">clear</a>)<br/>
    <a href="#debug=true">debug?</a> (this won't work)<br/>
  </p>
  
  <p>
    go to the <a href="#bottom">bottom of the page</a>
  </p>
  
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  
  <div id="bottom">Well hello. You're at the bottom of the page!</div>
</body>
</html>